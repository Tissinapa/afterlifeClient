
<div class="min-h-screen bg-[url('/assets/storekuva.png')] bg-cover bg-center relative">
  <div class="absolute inset-0 backdrop-blur-md bg-white/20"></div>

  <div class="relative z-10">
    <div class="max-w-4xl mx-auto mt-10 p-6 rounded-xl bg-black/40 backdrop-blur-md text-gray-100">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">

        <!-- DESTINATION SELECT-->
        <div class=" space-x-2">
          <h2 class="text-xl font-semibold text-gray-800">
            Select Your Destination
          </h2>

          <mat-form-field class="w-full">
            <mat-label>Destination</mat-label>
            <mat-select [(ngModel)]="selectedDestination"> 
              @for (destination of destinations; track destination.name) {
                <mat-option [value]="destination.name">
                  {{ destination.viewValue }}
                </mat-option>
              }
            </mat-select>
          </mat-form-field>

          <p *ngIf="selectedDestination">
            Selected destination: {{ selectedDestination }}

          </p>
        </div>
        
        <div class="flex space-x-4">
          <section>
            <h2 class="text-xl font-semibold text-gray-800 mb-2">
              Select seat class
            </h2>

            <mat-button-toggle-group
              name="seatClass"
              aria-label="Seat Class"
              [(ngModel)]="selectedSeatClass"
            >
              <mat-button-toggle [value]="'A'">A</mat-button-toggle>
              <mat-button-toggle [value]="'B'">B</mat-button-toggle>
              <mat-button-toggle [value]="'C'">C</mat-button-toggle>
            </mat-button-toggle-group>
          </section>
        </div>
        <!-- DEPARTURE DATE SELECT-->
        <div class="space-x-2">
          <h2 class="text-xl font-semibold text-gray-800">
            Select Departure Date
          </h2>

          <mat-form-field appearance="outline" class="w-full mat-mdc-form-field-density-compact">
            <mat-label>Departure Date</mat-label>
            <input
              matInput
              [matDatepicker]="picker"
              [(ngModel)]="departureDate"
              [min]="minDate"
            />
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>

          <p *ngIf="departureDate">
            Selected date: {{ departureDate | date:'longDate' }}
          </p>
        </div>

      </div>
    </div>
    <!-- SEAT SELECTION -->
    <div
      *ngIf="selectedDestination"
      class="mt-8 max-w-5xl mx-auto p-6 rounded-xl shadow-xl backdrop-blur-md"
      [ngClass]="{
        'bg-red-950/60 text-red-100 border border-red-500/30': selectedDestination === 'HELL',
        'bg-sky-950/50 text-sky-100 border border-sky-400/30': selectedDestination === 'HEAVEN'
      }"
    >

      <h2 class="text-xl font-semibold mb-4 text-center">
        Select Your Seat
      </h2>

      <!-- MAIN GRID -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">

        <!-- LEFT: SEATING GRID -->
        <div class="flex justify-center">
          
          <!-- HELL: 2 x 15 -->
          <div
            *ngIf="selectedDestination === 'HELL'"
            class="grid grid-cols-2 gap-2 max-w-s"
          >
            @for (seat of seats; track seat) {
              <button
                class="border rounded p-3 text-sm hover:bg-red-100 hover:text-red-900"
                [class.bg-red-500]="selectedSeat === seat"
                [class.text-white]="selectedSeat === seat"
                (click)="selectedSeat = seat"
              >
                {{ seat }}
              </button>
            }
          </div>

          <!-- HEAVEN: 3 x 10 -->
          <div
            *ngIf="selectedDestination === 'HEAVEN'"
            class="grid grid-cols-3 gap-2 max-w-s"
          >
            @for (seat of seats; track seat) {
              <button
                class="border rounded p-3 text-sm hover:bg-blue-100 hover:text-blue-900"
                [class.bg-blue-500]="selectedSeat === seat"
                [class.text-white]="selectedSeat === seat"
                (click)="selectedSeat = seat"
              >
                {{ seat }}
              </button>
            }
          </div>

        </div>

        <!-- RIGHT: SUMMARY PANEL -->
        <div class="rounded-lg border border-white/20 p-4 space-y-3">

          <h3 class="text-lg font-semibold">Your Selection</h3>

          <div class="text-sm space-y-1">
            <p>
              <span class="font-medium">Destination:</span>
              {{ selectedDestination }}
            </p>
            <p>
              <span class="font-medium">Class:</span>
              {{ selectedSeatClass || '—' }}
            </p>

            <p>
              <span class="font-medium">Seat:</span>
              {{ selectedSeat || '—' }}
            </p>

            <p>
              <span class="font-medium">Date:</span>
              {{ departureDate || '—' }}
            </p>


          </div>

          <!-- FUTURE BACKEND BUTTON -->
          <button
            class="w-full mt-4 py-2 rounded-md font-semibold transition
                  bg-white/10 hover:bg-white/20 disabled:opacity-40"
            
          >
            Confirm Seat (Coming Soon)
          </button>

        </div>

      </div>
    </div>
  </div>
</div>




<router-outlet></router-outlet>
